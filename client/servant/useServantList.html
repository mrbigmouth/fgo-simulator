<template name="useServantList">
  <div class="mt-2 pr-1" style="min-width: 50%;">
    <h5 class="mb-0">
      我方隊列：
      <a class="float-right" href="/fgo-simulator/manageParty">
        <small>儲存管理</small>
      </a>
    </h5>
    <div class="cardList">
      {{> useServantInfo '1'}}
      {{> useServantInfo '2'}}
      {{> useServantInfo '3'}}
    </div>
  </div>
</template>

<template name="useServantInfo">
  <div class="card-main">
    {{#with useServantData this}}
      {{#if this.classType}}
        <img class="icon" src="/fgo-simulator/{{this.classType}}.png" />
      {{/if}}
      <a class="mainLink text-muted text-truncate" href="/fgo-simulator/editUseServant/{{id}}">
        {{name}}
      </a>
      <div class="input-group">
        <span class="input-group-addon">NP</span>
        <input
          class="form-control"
          type="number"
          name="currentNp"
          min="0"
          max="{{maximumNp}}"
          value="{{currentNp}}"
        />
        <span class="input-group-addon">％</span>
      </div>
      <a
        class="btn btn-outline-secondary btn-sm btn-block text-left"
        style="overflow-x: hidden;"
        href="/fgo-simulator/editTemporaryBuff/{{id}}"
      >
        {{#if dontHasAnyBuff temporaryBuff}}
          無暫時性Buff
        {{else}}
          {{#each buff in temporaryBuff}}
            <img class="buffIcon" src="/fgo-simulator/{{buff.name}}.png" title="{{getBuffDescription buff.name}}" />
          {{/each}}
        {{/if}}
      </a>
    {{/with}}
  </div>
</template>