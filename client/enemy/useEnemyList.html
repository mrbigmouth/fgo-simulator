<template name="useEnemyList">
  <div class="mt-2 pr-1" style="min-width: 50%;">
    <h5 class="mb-0">敵方隊列：</h5>
    <div class="cardList">
      {{> useEnemyInfo '3'}}
      {{> useEnemyInfo '2'}}
      {{> useEnemyInfo '1'}}
    </div>
  </div>
</template>

<template name="useEnemyInfo">
  <div class="card-main">
    {{#with useEnemyData this}}
      <img class="icon" src="/fgo-simulator/{{this.classType}}.png" />
      <a class="mainLink text-muted text-truncate" href="/fgo-simulator/editUseEnemy/{{id}}">
        {{name}}
      </a>
      <div class="input-group">
        <span class="input-group-addon">HP</span>
        <input
          class="form-control"
          type="number"
          name="currentHp"
          min="0"
          value="{{currentHp}}"
        />
      </div>
      <a
        class="btn btn-outline-secondary btn-sm btn-block text-left"
        style="overflow-x: hidden;"
        href="/fgo-simulator/editTemporaryDebuff/{{id}}"
      >
        {{#if dontHasAnyDebuff temporaryDebuff}}
          無暫時性Debuff
        {{else}}
          {{#each debuff in temporaryDebuff}}
            <img
              class="buffIcon"
              src="/{{debuff.name}}.png"
              title="{{getDebuffDescription debuff.name}}"
            />
          {{/each}}
        {{/if}}
      </a>
      <button
        class="btn btn-outline-warning btn-sm btn-block mt-0 {{active}}"
        type="button"
        data-action="setTarget"
      >
        設為目標
      </button>
    {{/with}}
  </div>
</template>